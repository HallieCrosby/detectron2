HEIGHT = 480
WIDTH = 640

PREDICTIONS = {'scores': [0.9974532723426819, 0.9938008189201355, 0.988240122795105, 0.9850716590881348, 0.9844247102737427, 0.9810763597488403, 0.9800938963890076, 0.9720492362976074, 0.9688801765441895, 0.9674813747406006, 0.927189290523529, 0.9221163988113403, 0.9185774326324463, 0.9142449498176575, 0.8913487792015076, 0.8826121687889099, 0.8605493903160095, 0.8423078656196594, 0.8416911363601685, 0.8005133271217346, 0.7691927552223206, 0.7283533811569214, 0.7125754356384277, 0.6947720050811768, 0.6323946118354797, 0.5554373264312744, 0.502210259437561], 
 'pred_classes': [0, 2, 2, 2, 9, 0, 2, 0, 2, 0, 0, 5, 24, 9, 2, 2, 9, 5, 9, 2, 2, 0, 2, 0, 9, 9, 9],
 'pred_boxes': [[309.5509033203125, 163.2444610595703, 434.3181457519531, 475.4096984863281], [3.7802395820617676, 242.15467834472656, 537.434814453125, 432.81524658203125], [14.279938697814941, 212.42967224121094, 45.97575759887695, 233.4514617919922], [421.2859191894531, 208.60498046875, 556.5548706054688, 309.9937744140625], [143.9969940185547, 143.22933959960938, 152.34913635253906, 159.94985961914062], [582.5836181640625, 198.43775939941406, 600.1054077148438, 266.8861389160156], [57.001808166503906, 211.5207061767578, 77.75701141357422, 229.96949768066406], [134.99818420410156, 208.92091369628906, 189.38192749023438, 278.38665771484375], [75.46967315673828, 209.60325622558594, 103.36743927001953, 230.1490478515625], [545.7862548828125, 202.4793243408203, 569.5499267578125, 269.63946533203125], [605.6588745117188, 201.08189392089844, 626.3668823242188, 269.6811218261719], [183.23878479003906, 177.90478515625, 242.53317260742188, 238.60890197753906], [129.665771484375, 228.85916137695312, 170.4459686279297, 264.7272644042969], [46.01143264770508, 137.7577362060547, 54.27482604980469, 154.9816436767578], [121.1451416015625, 205.1159210205078, 157.94473266601562, 229.43475341796875], [255.93080139160156, 214.98483276367188, 284.3371887207031, 243.56529235839844], [110.03988647460938, 133.47642517089844, 118.6834487915039, 152.92295837402344], [93.23741912841797, 186.40609741210938, 128.8490447998047, 226.1478271484375], [183.7700653076172, 141.0837860107422, 191.97706604003906, 156.7988739013672], [270.9613037109375, 206.3548583984375, 346.9297790527344, 241.0618438720703], [387.1550598144531, 269.3006286621094, 526.6027221679688, 415.30615234375], [0.49352559447288513, 323.8660583496094, 49.01905822753906, 359.7412414550781], [145.3698272705078, 207.95762634277344, 169.30557250976562, 229.77464294433594], [615.1426391601562, 207.83851623535156, 639.5967407226562, 354.58331298828125], [142.42550659179688, 176.94520568847656, 147.10646057128906, 185.7545166015625], [152.2357635498047, 165.64385986328125, 158.73641967773438, 175.6268768310547], [105.40318298339844, 177.60287475585938, 110.80204772949219, 182.9259796142578]]}


Instances(num_instances=27, image_height=480, image_width=640, fields=[scores: [0.9974532723426819, 0.9938008189201355, 0.988240122795105, 0.9850716590881348, 0.9844247102737427, 0.9810763597488403, 0.9800938963890076, 0.9720492362976074, 0.9688801765441895, 0.9674813747406006, 0.927189290523529, 0.9221163988113403, 0.9185774326324463, 0.9142449498176575, 0.8913487792015076, 0.8826121687889099, 0.8605493903160095, 0.8423078656196594, 0.8416911363601685, 0.8005133271217346, 0.7691927552223206, 0.7283533811569214, 0.7125754356384277, 0.6947720050811768, 0.6323946118354797, 0.5554373264312744, 0.502210259437561], pred_classes: [0, 2, 2, 2, 9, 0, 2, 0, 2, 0, 0, 5, 24, 9, 2, 2, 9, 5, 9, 2, 2, 0, 2, 0, 9, 9, 9], pred_boxes: [[309.5509033203125, 163.2444610595703, 434.3181457519531, 475.4096984863281], [3.7802395820617676, 242.15467834472656, 537.434814453125, 432.81524658203125], [14.279938697814941, 212.42967224121094, 45.97575759887695, 233.4514617919922], [421.2859191894531, 208.60498046875, 556.5548706054688, 309.9937744140625], [143.9969940185547, 143.22933959960938, 152.34913635253906, 159.94985961914062], [582.5836181640625, 198.43775939941406, 600.1054077148438, 266.8861389160156], [57.001808166503906, 211.5207061767578, 77.75701141357422, 229.96949768066406], [134.99818420410156, 208.92091369628906, 189.38192749023438, 278.38665771484375], [75.46967315673828, 209.60325622558594, 103.36743927001953, 230.1490478515625], [545.7862548828125, 202.4793243408203, 569.5499267578125, 269.63946533203125], [605.6588745117188, 201.08189392089844, 626.3668823242188, 269.6811218261719], [183.23878479003906, 177.90478515625, 242.53317260742188, 238.60890197753906], [129.665771484375, 228.85916137695312, 170.4459686279297, 264.7272644042969], [46.01143264770508, 137.7577362060547, 54.27482604980469, 154.9816436767578], [121.1451416015625, 205.1159210205078, 157.94473266601562, 229.43475341796875], [255.93080139160156, 214.98483276367188, 284.3371887207031, 243.56529235839844], [110.03988647460938, 133.47642517089844, 118.6834487915039, 152.92295837402344], [93.23741912841797, 186.40609741210938, 128.8490447998047, 226.1478271484375], [183.7700653076172, 141.0837860107422, 191.97706604003906, 156.7988739013672], [270.9613037109375, 206.3548583984375, 346.9297790527344, 241.0618438720703], [387.1550598144531, 269.3006286621094, 526.6027221679688, 415.30615234375], [0.49352559447288513, 323.8660583496094, 49.01905822753906, 359.7412414550781], [145.3698272705078, 207.95762634277344, 169.30557250976562, 229.77464294433594], [615.1426391601562, 207.83851623535156, 639.5967407226562, 354.58331298828125], [142.42550659179688, 176.94520568847656, 147.10646057128906, 185.7545166015625], [152.2357635498047, 165.64385986328125, 158.73641967773438, 175.6268768310547], [105.40318298339844, 177.60287475585938, 110.80204772949219, 182.9259796142578]]])


Instances(num_instances=27, image_height=480, image_width=640, fields=[pred_boxes: Boxes(tensor([[3.0955e+02, 1.6324e+02, 4.3432e+02, 4.7541e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [3.7802e+00, 2.4215e+02, 5.3743e+02, 4.3282e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [1.4280e+01, 2.1243e+02, 4.5976e+01, 2.3345e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [4.2129e+02, 2.0860e+02, 5.5655e+02, 3.0999e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [1.4400e+02, 1.4323e+02, 1.5235e+02, 1.5995e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [5.8258e+02, 1.9844e+02, 6.0011e+02, 2.6689e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [5.7002e+01, 2.1152e+02, 7.7757e+01, 2.2997e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [1.3500e+02, 2.0892e+02, 1.8938e+02, 2.7839e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [7.5470e+01, 2.0960e+02, 1.0337e+02, 2.3015e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [5.4579e+02, 2.0248e+02, 5.6955e+02, 2.6964e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [6.0566e+02, 2.0108e+02, 6.2637e+02, 2.6968e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [1.8324e+02, 1.7790e+02, 2.4253e+02, 2.3861e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [1.2967e+02, 2.2886e+02, 1.7045e+02, 2.6473e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [4.6011e+01, 1.3776e+02, 5.4275e+01, 1.5498e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [1.2115e+02, 2.0512e+02, 1.5794e+02, 2.2943e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [2.5593e+02, 2.1498e+02, 2.8434e+02, 2.4357e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [1.1004e+02, 1.3348e+02, 1.1868e+02, 1.5292e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [9.3237e+01, 1.8641e+02, 1.2885e+02, 2.2615e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [1.8377e+02, 1.4108e+02, 1.9198e+02, 1.5680e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [2.7096e+02, 2.0635e+02, 3.4693e+02, 2.4106e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [3.8716e+02, 2.6930e+02, 5.2660e+02, 4.1531e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [4.9353e-01, 3.2387e+02, 4.9019e+01, 3.5974e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [1.4537e+02, 2.0796e+02, 1.6931e+02, 2.2977e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [6.1514e+02, 2.0784e+02, 6.3960e+02, 3.5458e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [1.4243e+02, 1.7695e+02, 1.4711e+02, 1.8575e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [1.5224e+02, 1.6564e+02, 1.5874e+02, 1.7563e+02],
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [1.0540e+02, 1.7760e+02, 1.1080e+02, 1.8293e+02]], device='cuda:0')), scores: tensor([0.9975, 0.9938, 0.9882, 0.9851, 0.9844, 0.9811, 0.9801, 0.9720, 0.9689,
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         0.9675, 0.9272, 0.9221, 0.9186, 0.9142, 0.8913, 0.8826, 0.8605, 0.8423,
2020-05-01 02:29:48,543 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         0.8417, 0.8005, 0.7692, 0.7284, 0.7126, 0.6948, 0.6324, 0.5554, 0.5022],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -        device='cuda:0'), pred_classes: tensor([ 0,  2,  2,  2,  9,  0,  2,  0,  2,  0,  0,  5, 24,  9,  2,  2,  9,  5,
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          9,  2,  2,  0,  2,  0,  9,  9,  9], device='cuda:0'), pred_masks: tensor([[[False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          ...,
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False]],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle - 
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [[False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model com.amazonaws.ml.mms.wlm.WorkerThread - Backend response time: 142
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          ...,
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False]],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle - 
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [[False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          ...,
2020-05-01 02:29:48,544 [INFO ] W-9000-model ACCESS_LOG - /10.32.0.2:48730 "POST /invocations HTTP/1.1" 200 143
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False]],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle - 
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         ...,
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle - 
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [[False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          ...,
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False]],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle - 
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [[False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          ...,
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False]],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle - 
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -         [[False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,544 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,545 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          ...,
2020-05-01 02:29:48,545 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,545 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False],
2020-05-01 02:29:48,545 [INFO ] W-9000-model-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle -          [False, False, False,  ..., False, False, False]]], device='cuda:0')])}


from detectron2.structures import Instances
#from typing import Any, Dict, List, Tuple, Union

def json_to_d2(height, width, json):
    inst = Instances((height, width,), **json)
    print(inst)
    print(type(inst))
    return inst
    

    
if __name__ == "__main__":
    json_to_d2(HEIGHT, WIDTH, PREDICTIONS)
    
    
    
    